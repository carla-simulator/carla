## 콘텐츠 저작 - 차량 재질

메시와 블루프린트가 설정된 기본 에셋으로 차량을 가져온 후에는, 머신 러닝 학습 데이터의 최대 충실도를 위해 언리얼 엔진에서 사실적인 렌더링이 가능하도록 차량에 재질을 추가해야 합니다.

언리얼 에디터는 매우 사실적인 재질을 만들 수 있는 포괄적인 재질 워크플로우를 자랑합니다. 하지만 이는 프로세스에 상당한 복잡성을 더합니다. 이러한 이유로, CARLA는 처음부터 시작할 필요 없이 사용할 수 있는 대규모 재질 프로토타입 라이브러리를 제공합니다.

### 차량에 재질 적용

CARLA는 다양한 종류의 차량 도장과 기능을 모방할 수 있는 광택 있는 마감을 복제하기 위한 프로토타입 재질을 제공합니다. 언리얼 에디터를 열고 콘텐츠 브라우저에서 `Content > Carla > Static > GenericMaterials > 00_MastersOpt`에 있는 재질을 찾습니다. 기본 재질은 *M_CarPaint_Master*라고 합니다. 이 재질을 우클릭하고 컨텍스트 메뉴에서 *Create Material Instance*를 선택합니다. 이름을 지정하고 새 차량 콘텐츠가 저장된 폴더로 이동합니다.

언리얼 에디터에서 관찰자를 바닥 근처의 지점으로 이동하고 콘텐츠 브라우저에서 차량의 스켈레탈 메시를 장면으로 드래그합니다. 차량의 본체가 이제 거기에 나타날 것입니다.

![add_model](img/tuto_content_authoring_vehicles/add_model.gif)

이제 오른쪽의 details 패널에서 새로운 재질 인스턴스를 *Materials* 섹션의 *Element 0* 위치로 드래그합니다. 차체가 새로운 회색의 광택 있는 재질 속성을 가지게 되는 것을 볼 수 있습니다.

![apply_material](img/tuto_content_authoring_vehicles/apply_material.gif)

콘텐츠 브라우저에서 재질을 더블 클릭하면 매개변수 편집을 시작할 수 있습니다. 여기에는 실제 자동차 도장을 모방하는 데 중요한 다양한 속성을 변경하는 수많은 매개변수가 있습니다. 가장 중요한 매개변수는 다음과 같습니다.

__색상__ - 색상 설정은 자동차의 전체적인 색상을 결정합니다. 기본 색상은 단순히 자동차의 기본 색상이며 전체적인 색상을 결정합니다:

![change_base_color](img/tuto_content_authoring_vehicles/change_base_color.gif)

__클리어 코트__ - 클리어 코트 설정은 마감의 외관과 빛에 반응하는 방식을 결정합니다. 거칠기는 텍스처를 사용하여 차량 표면에 불완전함을 적용하고, 높은 값에서는 빛을 더 많이 산란시켜 매트한 외관을 만듭니다. 사실적인 외관을 위해서는 미묘한 조정과 낮은 값이 권장됩니다. 일반적으로 자동차 도장은 부드럽고 반사적이지만, 이 효과는 커스텀 도장의 특수 매트 마감을 모델링하는 데 더 많이 사용될 수 있습니다.

![change_roughness](img/tuto_content_authoring_vehicles/change_roughness.gif)

자동차의 "반짝임" 또는 "광택"을 결정하는 중요한 매개변수는 *Clear Coat Intensity*입니다. 1에 가까운 높은 값은 코팅을 반짝이고 광택이 나게 만듭니다.

__오렌지 필__ - 실제 자동차의 마감(특히 일반 시장용 대량 생산 자동차)은 도장에 약간의 물결처럼 보이는 불완전함이 있는 경향이 있습니다. 오렌지 필 효과는 이를 모방하여 자동차를 더 사실적으로 보이게 만듭니다.

![change_orange_peel](img/tuto_content_authoring_vehicles/change_orange_peel.gif)

__플레이크__ - 일부 자동차는 *메탈릭* 또는 *펄레슨트* 외관을 주기 위해 금속이나 세라믹과 같은 다른 재료의 플레이크를 포함하는 도장을 가지고 있어, 빛에 반응하여 매력적인 방식으로 추가적인 반짝임과 반사를 줍니다. 플레이크 매개변수를 사용하면 CARLA가 이를 모방할 수 있습니다.

![flakes](img/tuto_content_authoring_vehicles/flakes.gif)

__먼지__ - 자동차는 종종 도장에 기름과 먼지가 쌓여 빛을 반사하는 방식에 영향을 주는 추가적인 텍스처가 생깁니다. 먼지 매개변수를 사용하면 도장에 외부 물질이 달라붙는 것을 모방하기 위해 코팅에 패치 형태의 교란을 추가할 수 있습니다.

![dust](img/tuto_content_authoring_vehicles/dust.gif)